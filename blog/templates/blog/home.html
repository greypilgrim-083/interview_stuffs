{% extends 'blog/base.html' %}

{% block content %}
<h2 class="mb-4">All Blogs</h2>

{% for post in posts %}
<a href="{% url 'post_detail' post.pk %}" class="text-decoration-none text-dark">
<div class="card mb-3 shadow-sm border-0 rounded-3 hover-shadow" style="cursor: pointer;">
    <div class="card-body">
        <!-- Title + Tags -->
        <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0">{{ post.title }}</h5>
            <div>
                <span class="badge bg-primary">{{ post.company }}</span>
                <span class="badge bg-info text-dark">
                    {% if post.campus_type == 'ON' %}On-Campus{% else %}Off-Campus{% endif %}
                </span>
                <span class="badge bg-success">{{ post.salary_range }}</span>
            </div>
        </div>

        <!-- Author & Time -->
        <small class="text-muted">
            By {{ post.author }} on {{ post.created_at|date:"M d, Y, P" }}
        </small>

        <!-- Content snippet -->
        <p class="mt-2">{{ post.content|truncatewords:20 }}</p>
    </div>
</div>
</a>
{% empty %}
<p>No posts yet.</p>
{% endfor %}
{% endblock %}
